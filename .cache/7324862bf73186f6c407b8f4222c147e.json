{"dependencies":[{"name":"lodash/cloneDeep","loc":{"line":6,"column":26}},{"name":"lodash/sortBy","loc":{"line":10,"column":23}},{"name":"react","loc":{"line":14,"column":21}},{"name":"prop-types","loc":{"line":18,"column":25}},{"name":"react-motion","loc":{"line":22,"column":27}},{"name":"recompose/compose","loc":{"line":24,"column":23}},{"name":"recompose/defaultProps","loc":{"line":28,"column":28}},{"name":"recompose/withPropsOnChange","loc":{"line":32,"column":33}},{"name":"recompose/withProps","loc":{"line":36,"column":25}},{"name":"recompose/pure","loc":{"line":40,"column":20}},{"name":"d3-hierarchy","loc":{"line":44,"column":27}},{"name":"d3-shape","loc":{"line":46,"column":23}},{"name":"../../../lib/colors","loc":{"line":48,"column":22}},{"name":"../../../hocs","loc":{"line":50,"column":20}},{"name":"../../../lib/propertiesConverters","loc":{"line":52,"column":36}},{"name":"../Container","loc":{"line":54,"column":25}},{"name":"../SvgWrapper","loc":{"line":58,"column":26}},{"name":"./SunburstArc","loc":{"line":62,"column":27}}],"generated":{"js":"'use strict';\n\nexports.__esModule = true;\nexports.SunburstDefaultProps = undefined;\n\nvar _cloneDeep2 = require('lodash/cloneDeep');\n\nvar _cloneDeep3 = _interopRequireDefault(_cloneDeep2);\n\nvar _sortBy2 = require('lodash/sortBy');\n\nvar _sortBy3 = _interopRequireDefault(_sortBy2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require('react-motion');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _defaultProps = require('recompose/defaultProps');\n\nvar _defaultProps2 = _interopRequireDefault(_defaultProps);\n\nvar _withPropsOnChange = require('recompose/withPropsOnChange');\n\nvar _withPropsOnChange2 = _interopRequireDefault(_withPropsOnChange);\n\nvar _withProps = require('recompose/withProps');\n\nvar _withProps2 = _interopRequireDefault(_withProps);\n\nvar _pure = require('recompose/pure');\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _d3Hierarchy = require('d3-hierarchy');\n\nvar _d3Shape = require('d3-shape');\n\nvar _colors = require('../../../lib/colors');\n\nvar _hocs = require('../../../hocs');\n\nvar _propertiesConverters = require('../../../lib/propertiesConverters');\n\nvar _Container = require('../Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _SvgWrapper = require('../SvgWrapper');\n\nvar _SvgWrapper2 = _interopRequireDefault(_SvgWrapper);\n\nvar _SunburstArc = require('./SunburstArc');\n\nvar _SunburstArc2 = _interopRequireDefault(_SunburstArc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nvar getAncestor = function getAncestor(node) {\n    if (node.depth === 1) return node;\n    if (node.parent) return getAncestor(node.parent);\n    return node;\n};\n\nvar Sunburst = function Sunburst(_ref) {\n    var nodes = _ref.nodes,\n        margin = _ref.margin,\n        centerX = _ref.centerX,\n        centerY = _ref.centerY,\n        outerWidth = _ref.outerWidth,\n        outerHeight = _ref.outerHeight,\n        arcGenerator = _ref.arcGenerator,\n        borderWidth = _ref.borderWidth,\n        borderColor = _ref.borderColor,\n        theme = _ref.theme,\n        isInteractive = _ref.isInteractive;\n\n    return _react2.default.createElement(\n        _Container2.default,\n        { isInteractive: isInteractive, theme: theme },\n        function (_ref2) {\n            var showTooltip = _ref2.showTooltip,\n                hideTooltip = _ref2.hideTooltip;\n            return _react2.default.createElement(\n                _SvgWrapper2.default,\n                { width: outerWidth, height: outerHeight, margin: margin },\n                _react2.default.createElement(\n                    'g',\n                    { transform: 'translate(' + centerX + ', ' + centerY + ')' },\n                    nodes.filter(function (node) {\n                        return node.depth > 0;\n                    }).map(function (node, i) {\n                        return _react2.default.createElement(_SunburstArc2.default, {\n                            key: i,\n                            node: node,\n                            arcGenerator: arcGenerator,\n                            borderWidth: borderWidth,\n                            borderColor: borderColor,\n                            showTooltip: showTooltip,\n                            hideTooltip: hideTooltip,\n                            theme: theme\n                        });\n                    })\n                )\n            );\n        }\n    );\n};\n\nSunburst.propTypes = {\n    data: _propTypes2.default.object.isRequired,\n    identity: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]).isRequired,\n    getIdentity: _propTypes2.default.func.isRequired, // computed\n    value: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]).isRequired,\n    getValue: _propTypes2.default.func.isRequired, // computed\n    nodes: _propTypes2.default.array.isRequired, // computed\n\n    partition: _propTypes2.default.func.isRequired, // computed\n\n    cornerRadius: _propTypes2.default.number.isRequired,\n    arcGenerator: _propTypes2.default.func.isRequired, // computed\n\n    radius: _propTypes2.default.number.isRequired, // computed\n    centerX: _propTypes2.default.number.isRequired, // computed\n    centerY: _propTypes2.default.number.isRequired, // computed\n\n    // border\n    borderWidth: _propTypes2.default.number.isRequired,\n    borderColor: _propTypes2.default.string.isRequired,\n\n    childColor: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]).isRequired,\n\n    // interactivity\n    isInteractive: _propTypes2.default.bool\n};\n\nvar SunburstDefaultProps = exports.SunburstDefaultProps = {\n    identity: 'id',\n    value: 'value',\n\n    cornerRadius: 0,\n\n    // border\n    borderWidth: 1,\n    borderColor: 'white',\n\n    childColor: 'inherit',\n\n    // interactivity\n    isInteractive: true\n};\n\nvar enhance = (0, _compose2.default)((0, _defaultProps2.default)(SunburstDefaultProps), (0, _hocs.withTheme)(), (0, _hocs.withDimensions)(), (0, _hocs.withColors)(), (0, _withProps2.default)(function (_ref3) {\n    var width = _ref3.width,\n        height = _ref3.height;\n\n    var radius = Math.min(width, height) / 2;\n\n    var partition = (0, _d3Hierarchy.partition)().size([2 * Math.PI, radius * radius]);\n\n    return { radius: radius, partition: partition, centerX: width / 2, centerY: height / 2 };\n}), (0, _withPropsOnChange2.default)(['cornerRadius'], function (_ref4) {\n    var cornerRadius = _ref4.cornerRadius;\n    return {\n        arcGenerator: (0, _d3Shape.arc)().startAngle(function (d) {\n            return d.x0;\n        }).endAngle(function (d) {\n            return d.x1;\n        }).innerRadius(function (d) {\n            return Math.sqrt(d.y0);\n        }).outerRadius(function (d) {\n            return Math.sqrt(d.y1);\n        }).cornerRadius(cornerRadius)\n    };\n}), (0, _withPropsOnChange2.default)(['identity'], function (_ref5) {\n    var identity = _ref5.identity;\n    return {\n        getIdentity: (0, _propertiesConverters.getAccessorFor)(identity)\n    };\n}), (0, _withPropsOnChange2.default)(['value'], function (_ref6) {\n    var value = _ref6.value;\n    return {\n        getValue: (0, _propertiesConverters.getAccessorFor)(value)\n    };\n}), (0, _withPropsOnChange2.default)(['data', 'getValue'], function (_ref7) {\n    var data = _ref7.data,\n        getValue = _ref7.getValue;\n    return {\n        data: (0, _d3Hierarchy.hierarchy)(data).sum(getValue)\n    };\n}), (0, _withPropsOnChange2.default)(['childColor'], function (_ref8) {\n    var childColor = _ref8.childColor;\n    return {\n        getChildColor: (0, _colors.getInheritedColorGenerator)(childColor)\n    };\n}), (0, _withPropsOnChange2.default)(['data', 'partition', 'getIdentity', 'getChildColor'], function (_ref9) {\n    var data = _ref9.data,\n        partition = _ref9.partition,\n        getIdentity = _ref9.getIdentity,\n        getColor = _ref9.getColor,\n        getChildColor = _ref9.getChildColor;\n\n    var total = data.value;\n\n    var nodes = (0, _sortBy3.default)(partition((0, _cloneDeep3.default)(data)).descendants(), 'depth');\n    nodes.forEach(function (node) {\n        var ancestor = getAncestor(node).data;\n\n        delete node.children;\n        delete node.data.children;\n\n        Object.assign(node.data, {\n            id: getIdentity(node.data),\n            value: node.value,\n            percentage: 100 * node.value / total,\n            depth: node.depth,\n            ancestor: ancestor\n        });\n\n        if (node.depth === 1) {\n            node.data.color = getColor(node.data);\n        } else if (node.depth > 1) {\n            node.data.color = getChildColor(node.parent.data);\n        }\n    });\n\n    return { nodes: nodes };\n}), _pure2.default);\n\nvar enhancedSunburst = enhance(Sunburst);\nenhancedSunburst.displayName = 'enhance(Sunburst)';\n\nexports.default = enhancedSunburst;"},"hash":"98eb6168f98b7ca19ecad5480286d440"}