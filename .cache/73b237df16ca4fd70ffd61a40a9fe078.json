{"dependencies":[{"name":"react","loc":{"line":15,"column":21}},{"name":"react-motion","loc":{"line":19,"column":27}},{"name":"../../../lib/colors","loc":{"line":21,"column":22}},{"name":"../../../lib/propertiesConverters","loc":{"line":23,"column":36}},{"name":"../../../lib/polar","loc":{"line":25,"column":21}},{"name":"../../../lib/defs","loc":{"line":27,"column":20}},{"name":"../Container","loc":{"line":29,"column":25}},{"name":"../SvgWrapper","loc":{"line":33,"column":26}},{"name":"d3-shape","loc":{"line":37,"column":23}},{"name":"./PieRadialLabels","loc":{"line":39,"column":31}},{"name":"./PieSlicesLabels","loc":{"line":43,"column":31}},{"name":"../../tooltip/BasicTooltip","loc":{"line":47,"column":28}},{"name":"./props","loc":{"line":51,"column":21}},{"name":"./enhance","loc":{"line":53,"column":23}}],"generated":{"js":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * This file is part of the nivo project.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * Copyright 2016-present, RaphaÃ«l Benitte.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * For the full copyright and license information, please view the LICENSE\n                                                                                                                                                                                                                                                                   * file that was distributed with this source code.\n                                                                                                                                                                                                                                                                   */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactMotion = require('react-motion');\n\nvar _colors = require('../../../lib/colors');\n\nvar _propertiesConverters = require('../../../lib/propertiesConverters');\n\nvar _polar = require('../../../lib/polar');\n\nvar _defs = require('../../../lib/defs');\n\nvar _Container = require('../Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _SvgWrapper = require('../SvgWrapper');\n\nvar _SvgWrapper2 = _interopRequireDefault(_SvgWrapper);\n\nvar _d3Shape = require('d3-shape');\n\nvar _PieRadialLabels = require('./PieRadialLabels');\n\nvar _PieRadialLabels2 = _interopRequireDefault(_PieRadialLabels);\n\nvar _PieSlicesLabels = require('./PieSlicesLabels');\n\nvar _PieSlicesLabels2 = _interopRequireDefault(_PieSlicesLabels);\n\nvar _BasicTooltip = require('../../tooltip/BasicTooltip');\n\nvar _BasicTooltip2 = _interopRequireDefault(_BasicTooltip);\n\nvar _props = require('./props');\n\nvar _enhance = require('./enhance');\n\nvar _enhance2 = _interopRequireDefault(_enhance);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Pie = function Pie(_ref) {\n    var data = _ref.data,\n        margin = _ref.margin,\n        width = _ref.width,\n        height = _ref.height,\n        outerWidth = _ref.outerWidth,\n        outerHeight = _ref.outerHeight,\n        sortByValue = _ref.sortByValue,\n        _innerRadius = _ref.innerRadius,\n        _padAngle = _ref.padAngle,\n        cornerRadius = _ref.cornerRadius,\n        borderWidth = _ref.borderWidth,\n        _borderColor = _ref.borderColor,\n        enableRadialLabels = _ref.enableRadialLabels,\n        radialLabel = _ref.radialLabel,\n        radialLabelsSkipAngle = _ref.radialLabelsSkipAngle,\n        radialLabelsLinkOffset = _ref.radialLabelsLinkOffset,\n        radialLabelsLinkDiagonalLength = _ref.radialLabelsLinkDiagonalLength,\n        radialLabelsLinkHorizontalLength = _ref.radialLabelsLinkHorizontalLength,\n        radialLabelsLinkStrokeWidth = _ref.radialLabelsLinkStrokeWidth,\n        radialLabelsTextXOffset = _ref.radialLabelsTextXOffset,\n        radialLabelsTextColor = _ref.radialLabelsTextColor,\n        radialLabelsLinkColor = _ref.radialLabelsLinkColor,\n        enableSlicesLabels = _ref.enableSlicesLabels,\n        sliceLabel = _ref.sliceLabel,\n        slicesLabelsSkipAngle = _ref.slicesLabelsSkipAngle,\n        slicesLabelsTextColor = _ref.slicesLabelsTextColor,\n        theme = _ref.theme,\n        getColor = _ref.getColor,\n        defs = _ref.defs,\n        fill = _ref.fill,\n        animate = _ref.animate,\n        motionStiffness = _ref.motionStiffness,\n        motionDamping = _ref.motionDamping,\n        isInteractive = _ref.isInteractive,\n        tooltipFormat = _ref.tooltipFormat;\n\n    var centerX = width / 2;\n    var centerY = height / 2;\n\n    var padAngle = (0, _polar.degreesToRadians)(_padAngle);\n\n    var borderColor = (0, _colors.getInheritedColorGenerator)(_borderColor);\n\n    var motionProps = {\n        animate: animate,\n        motionDamping: motionDamping,\n        motionStiffness: motionStiffness\n    };\n\n    var radialLabelsProps = {\n        label: (0, _propertiesConverters.getLabelGenerator)(radialLabel),\n        skipAngle: radialLabelsSkipAngle,\n        linkOffset: radialLabelsLinkOffset,\n        linkDiagonalLength: radialLabelsLinkDiagonalLength,\n        linkHorizontalLength: radialLabelsLinkHorizontalLength,\n        linkStrokeWidth: radialLabelsLinkStrokeWidth,\n        textXOffset: radialLabelsTextXOffset,\n        textColor: (0, _colors.getInheritedColorGenerator)(radialLabelsTextColor, 'labels.textColor'),\n        linkColor: (0, _colors.getInheritedColorGenerator)(radialLabelsLinkColor, 'axis.tickColor')\n    };\n\n    var slicesLabelsProps = {\n        label: (0, _propertiesConverters.getLabelGenerator)(sliceLabel),\n        skipAngle: slicesLabelsSkipAngle,\n        textColor: (0, _colors.getInheritedColorGenerator)(slicesLabelsTextColor, 'labels.textColor')\n    };\n\n    var radius = Math.min(width, height) / 2;\n    var innerRadius = radius * Math.min(_innerRadius, 1);\n\n    var pie = (0, _d3Shape.pie)();\n    pie.value(function (d) {\n        return d.value;\n    });\n    if (sortByValue !== true) pie.sortValues(null);\n\n    var arc = (0, _d3Shape.arc)();\n    arc.outerRadius(radius);\n\n    var enhancedData = data.map(function (d) {\n        var color = getColor(d);\n        return _extends({}, d, { color: color });\n    });\n\n    var boundDefs = (0, _defs.bindDefs)(defs, enhancedData, fill);\n\n    return _react2.default.createElement(\n        _Container2.default,\n        { isInteractive: isInteractive, theme: theme },\n        function (_ref2) {\n            var showTooltip = _ref2.showTooltip,\n                hideTooltip = _ref2.hideTooltip;\n            return _react2.default.createElement(\n                _SvgWrapper2.default,\n                {\n                    width: outerWidth,\n                    height: outerHeight,\n                    margin: margin,\n                    defs: boundDefs\n                },\n                _react2.default.createElement(\n                    _reactMotion.Motion,\n                    {\n                        style: {\n                            centerX: (0, _reactMotion.spring)(centerX, motionProps),\n                            centerY: (0, _reactMotion.spring)(centerY, motionProps),\n                            innerRadius: (0, _reactMotion.spring)(innerRadius),\n                            padAngle: (0, _reactMotion.spring)(padAngle, motionProps),\n                            cornerRadius: (0, _reactMotion.spring)(cornerRadius, motionProps)\n                        }\n                    },\n                    function (interpolatingStyle) {\n                        var interpolatedPie = pie.padAngle(interpolatingStyle.padAngle);\n                        var interpolatedArc = arc.cornerRadius(interpolatingStyle.cornerRadius).innerRadius(interpolatingStyle.innerRadius);\n\n                        var arcsData = interpolatedPie(enhancedData).map(function (d) {\n                            var angle = d.endAngle - d.startAngle;\n\n                            return _extends({}, d, {\n                                angle: angle,\n                                angleDegrees: (0, _polar.radiansToDegrees)(angle),\n                                data: d.data\n                            });\n                        });\n\n                        return _react2.default.createElement(\n                            'g',\n                            {\n                                transform: 'translate(' + interpolatingStyle.centerX + ', ' + interpolatingStyle.centerY + ')'\n                            },\n                            arcsData.map(function (d) {\n                                var handleTooltip = function handleTooltip(e) {\n                                    return showTooltip(_react2.default.createElement(_BasicTooltip2.default, {\n                                        id: d.data.label,\n                                        value: d.data.value,\n                                        enableChip: true,\n                                        color: d.data.color,\n                                        theme: theme,\n                                        format: tooltipFormat\n                                    }), e);\n                                };\n\n                                return _react2.default.createElement('path', {\n                                    key: d.data.id,\n                                    d: interpolatedArc(d),\n                                    fill: d.data.fill ? d.data.fill : d.data.color,\n                                    strokeWidth: borderWidth,\n                                    stroke: borderColor(d.data),\n                                    onMouseEnter: handleTooltip,\n                                    onMouseMove: handleTooltip,\n                                    onMouseLeave: hideTooltip\n                                });\n                            }),\n                            enableSlicesLabels && _react2.default.createElement(_PieSlicesLabels2.default, _extends({\n                                data: arcsData,\n                                radius: radius,\n                                innerRadius: interpolatingStyle.innerRadius,\n                                theme: theme\n                            }, slicesLabelsProps)),\n                            enableRadialLabels && _react2.default.createElement(_PieRadialLabels2.default, _extends({\n                                data: arcsData,\n                                radius: radius,\n                                theme: theme\n                            }, radialLabelsProps))\n                        );\n                    }\n                )\n            );\n        }\n    );\n};\n\nPie.propTypes = _props.PiePropTypes;\n\nvar enhancedPie = (0, _enhance2.default)(Pie);\nenhancedPie.displayName = 'enhance(Pie)';\n\nexports.default = enhancedPie;"},"hash":"4f1960776310edc8a126b6931ff75349"}