{"dependencies":[{"name":"react","loc":{"line":15,"column":21}},{"name":"react-motion","loc":{"line":19,"column":27}},{"name":"../../../lib/defs","loc":{"line":21,"column":20}},{"name":"../../../lib/charts/bar","loc":{"line":23,"column":19}},{"name":"./enhance","loc":{"line":25,"column":23}},{"name":"./props","loc":{"line":29,"column":21}},{"name":"../Container","loc":{"line":31,"column":25}},{"name":"../SvgWrapper","loc":{"line":35,"column":26}},{"name":"../../axes/Grid","loc":{"line":39,"column":20}},{"name":"../../cartesian/markers/CartesianMarkers","loc":{"line":43,"column":32}},{"name":"../../axes/Axes","loc":{"line":47,"column":20}}],"generated":{"js":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * This file is part of the nivo project.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * Copyright 2016-present, RaphaÃ«l Benitte.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * For the full copyright and license information, please view the LICENSE\n                                                                                                                                                                                                                                                                   * file that was distributed with this source code.\n                                                                                                                                                                                                                                                                   */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactMotion = require('react-motion');\n\nvar _defs = require('../../../lib/defs');\n\nvar _bar = require('../../../lib/charts/bar');\n\nvar _enhance = require('./enhance');\n\nvar _enhance2 = _interopRequireDefault(_enhance);\n\nvar _props = require('./props');\n\nvar _Container = require('../Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _SvgWrapper = require('../SvgWrapper');\n\nvar _SvgWrapper2 = _interopRequireDefault(_SvgWrapper);\n\nvar _Grid = require('../../axes/Grid');\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _CartesianMarkers = require('../../cartesian/markers/CartesianMarkers');\n\nvar _CartesianMarkers2 = _interopRequireDefault(_CartesianMarkers);\n\nvar _Axes = require('../../axes/Axes');\n\nvar _Axes2 = _interopRequireDefault(_Axes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\n    var style = _ref.style;\n    return {\n        x: style.x.val,\n        y: style.y.val,\n        width: 0,\n        height: style.height.val\n    };\n};\n\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\n    var style = _ref2.style;\n    return {\n        x: style.x.val,\n        y: style.y.val + style.height.val,\n        width: style.width.val,\n        height: 0\n    };\n};\n\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\n    return function (_ref3) {\n        var style = _ref3.style;\n        return {\n            x: style.x,\n            y: style.y,\n            width: (0, _reactMotion.spring)(0, springConfig),\n            height: style.height\n        };\n    };\n};\n\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\n    return function (_ref4) {\n        var style = _ref4.style;\n        return {\n            x: style.x,\n            y: (0, _reactMotion.spring)(style.y.val + style.height.val, springConfig),\n            width: style.width,\n            height: (0, _reactMotion.spring)(0, springConfig)\n        };\n    };\n};\n\nvar Bar = function Bar(_ref5) {\n    var data = _ref5.data,\n        getIndex = _ref5.getIndex,\n        keys = _ref5.keys,\n        groupMode = _ref5.groupMode,\n        layout = _ref5.layout,\n        reverse = _ref5.reverse,\n        minValue = _ref5.minValue,\n        maxValue = _ref5.maxValue,\n        margin = _ref5.margin,\n        width = _ref5.width,\n        height = _ref5.height,\n        outerWidth = _ref5.outerWidth,\n        outerHeight = _ref5.outerHeight,\n        padding = _ref5.padding,\n        innerPadding = _ref5.innerPadding,\n        axisTop = _ref5.axisTop,\n        axisRight = _ref5.axisRight,\n        axisBottom = _ref5.axisBottom,\n        axisLeft = _ref5.axisLeft,\n        enableGridX = _ref5.enableGridX,\n        enableGridY = _ref5.enableGridY,\n        barComponent = _ref5.barComponent,\n        enableLabel = _ref5.enableLabel,\n        getLabel = _ref5.getLabel,\n        labelSkipWidth = _ref5.labelSkipWidth,\n        labelSkipHeight = _ref5.labelSkipHeight,\n        getLabelTextColor = _ref5.getLabelTextColor,\n        markers = _ref5.markers,\n        theme = _ref5.theme,\n        getColor = _ref5.getColor,\n        defs = _ref5.defs,\n        fill = _ref5.fill,\n        borderRadius = _ref5.borderRadius,\n        borderWidth = _ref5.borderWidth,\n        getBorderColor = _ref5.getBorderColor,\n        animate = _ref5.animate,\n        motionStiffness = _ref5.motionStiffness,\n        motionDamping = _ref5.motionDamping,\n        isInteractive = _ref5.isInteractive,\n        tooltipFormat = _ref5.tooltipFormat,\n        onClick = _ref5.onClick;\n\n    var options = {\n        layout: layout,\n        reverse: reverse,\n        data: data,\n        getIndex: getIndex,\n        keys: keys,\n        minValue: minValue,\n        maxValue: maxValue,\n        width: width,\n        height: height,\n        getColor: getColor,\n        padding: padding,\n        innerPadding: innerPadding\n    };\n    var result = groupMode === 'grouped' ? (0, _bar.generateGroupedBars)(options) : (0, _bar.generateStackedBars)(options);\n\n    var motionProps = {\n        animate: animate,\n        motionDamping: motionDamping,\n        motionStiffness: motionStiffness\n    };\n\n    var springConfig = {\n        damping: motionDamping,\n        stiffness: motionStiffness\n    };\n\n    var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\n    var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\n\n    var shouldRenderLabel = function shouldRenderLabel(_ref6) {\n        var width = _ref6.width,\n            height = _ref6.height;\n\n        if (!enableLabel) return false;\n        if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n        if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n        return true;\n    };\n\n    var boundDefs = (0, _defs.bindDefs)(defs, result.bars, fill, {\n        dataKey: 'data',\n        targetKey: 'data.fill'\n    });\n\n    return _react2.default.createElement(\n        _Container2.default,\n        { isInteractive: isInteractive, theme: theme },\n        function (_ref7) {\n            var showTooltip = _ref7.showTooltip,\n                hideTooltip = _ref7.hideTooltip;\n\n            var commonProps = {\n                borderRadius: borderRadius,\n                borderWidth: borderWidth,\n                enableLabel: enableLabel,\n                labelSkipWidth: labelSkipWidth,\n                labelSkipHeight: labelSkipHeight,\n                showTooltip: showTooltip,\n                hideTooltip: hideTooltip,\n                onClick: onClick,\n                theme: theme,\n                tooltipFormat: tooltipFormat\n            };\n\n            var bars = void 0;\n            if (animate === true) {\n                bars = _react2.default.createElement(\n                    _reactMotion.TransitionMotion,\n                    {\n                        willEnter: willEnter,\n                        willLeave: willLeave,\n                        styles: result.bars.map(function (bar) {\n                            return {\n                                key: bar.key,\n                                data: bar,\n                                style: {\n                                    x: (0, _reactMotion.spring)(bar.x, springConfig),\n                                    y: (0, _reactMotion.spring)(bar.y, springConfig),\n                                    width: (0, _reactMotion.spring)(bar.width, springConfig),\n                                    height: (0, _reactMotion.spring)(bar.height, springConfig)\n                                }\n                            };\n                        })\n                    },\n                    function (interpolatedStyles) {\n                        return _react2.default.createElement(\n                            'g',\n                            null,\n                            interpolatedStyles.map(function (_ref8) {\n                                var key = _ref8.key,\n                                    style = _ref8.style,\n                                    bar = _ref8.data;\n\n                                var baseProps = _extends({}, bar, style);\n\n                                return _react2.default.createElement(barComponent, _extends({\n                                    key: key\n                                }, baseProps, commonProps, {\n                                    shouldRenderLabel: shouldRenderLabel(baseProps),\n                                    width: Math.max(style.width, 0),\n                                    height: Math.max(style.height, 0),\n                                    label: getLabel(bar.data),\n                                    labelColor: getLabelTextColor(baseProps, theme),\n                                    borderColor: getBorderColor(baseProps)\n                                }));\n                            })\n                        );\n                    }\n                );\n            } else {\n                bars = result.bars.map(function (d) {\n                    return _react2.default.createElement(barComponent, _extends({\n                        key: d.key\n                    }, d, commonProps, {\n                        label: getLabel(d.data),\n                        shouldRenderLabel: shouldRenderLabel(d),\n                        labelColor: getLabelTextColor(d, theme),\n                        borderColor: getBorderColor(d)\n                    }));\n                });\n            }\n\n            return _react2.default.createElement(\n                _SvgWrapper2.default,\n                {\n                    width: outerWidth,\n                    height: outerHeight,\n                    margin: margin,\n                    defs: boundDefs\n                },\n                _react2.default.createElement(_Grid2.default, _extends({\n                    theme: theme,\n                    width: width,\n                    height: height,\n                    xScale: enableGridX ? result.xScale : null,\n                    yScale: enableGridY ? result.yScale : null\n                }, motionProps)),\n                _react2.default.createElement(_Axes2.default, _extends({\n                    xScale: result.xScale,\n                    yScale: result.yScale,\n                    width: width,\n                    height: height,\n                    theme: theme,\n                    top: axisTop,\n                    right: axisRight,\n                    bottom: axisBottom,\n                    left: axisLeft\n                }, motionProps)),\n                bars,\n                _react2.default.createElement(_CartesianMarkers2.default, {\n                    markers: markers,\n                    width: width,\n                    height: height,\n                    xScale: result.xScale,\n                    yScale: result.yScale,\n                    theme: theme\n                })\n            );\n        }\n    );\n};\n\nBar.propTypes = _props.BarPropTypes;\n\nexports.default = (0, _enhance2.default)(Bar);"},"hash":"8738de5395f920108da051ae1b8e7f45"}