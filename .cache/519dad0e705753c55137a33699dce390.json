{"dependencies":[{"name":"react","loc":{"line":15,"column":21}},{"name":"prop-types","loc":{"line":19,"column":25}},{"name":"recompose/pure","loc":{"line":23,"column":20}},{"name":"d3-sankey","loc":{"line":27,"column":24}},{"name":"../../../props","loc":{"line":29,"column":21}},{"name":"../../SmartMotion","loc":{"line":31,"column":27}},{"name":"./SankeyLinksItem","loc":{"line":35,"column":31}}],"generated":{"js":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * This file is part of the nivo project.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * Copyright 2016-present, RaphaÃ«l Benitte.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * For the full copyright and license information, please view the LICENSE\n                                                                                                                                                                                                                                                                   * file that was distributed with this source code.\n                                                                                                                                                                                                                                                                   */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pure = require('recompose/pure');\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _d3Sankey = require('d3-sankey');\n\nvar _props = require('../../../props');\n\nvar _SmartMotion = require('../../SmartMotion');\n\nvar _SmartMotion2 = _interopRequireDefault(_SmartMotion);\n\nvar _SankeyLinksItem = require('./SankeyLinksItem');\n\nvar _SankeyLinksItem2 = _interopRequireDefault(_SankeyLinksItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getLinkPath = (0, _d3Sankey.sankeyLinkHorizontal)();\n\nvar SankeyLinks = function SankeyLinks(_ref) {\n    var links = _ref.links,\n        linkOpacity = _ref.linkOpacity,\n        linkHoverOpacity = _ref.linkHoverOpacity,\n        linkHoverOthersOpacity = _ref.linkHoverOthersOpacity,\n        linkContract = _ref.linkContract,\n        animate = _ref.animate,\n        motionDamping = _ref.motionDamping,\n        motionStiffness = _ref.motionStiffness,\n        showTooltip = _ref.showTooltip,\n        hideTooltip = _ref.hideTooltip,\n        setCurrentLink = _ref.setCurrentLink,\n        currentNode = _ref.currentNode,\n        currentLink = _ref.currentLink,\n        isCurrentLink = _ref.isCurrentLink,\n        onClick = _ref.onClick,\n        tooltipFormat = _ref.tooltipFormat,\n        tooltip = _ref.tooltip,\n        theme = _ref.theme;\n\n    var getOpacity = function getOpacity(link) {\n        if (!currentNode && !currentLink) return linkOpacity;\n        if (isCurrentLink(link)) return linkHoverOpacity;\n        return linkHoverOthersOpacity;\n    };\n\n    if (animate !== true) {\n        return _react2.default.createElement(\n            'g',\n            null,\n            links.map(function (link) {\n                return _react2.default.createElement(_SankeyLinksItem2.default, {\n                    key: link.source.id + '.' + link.target.id,\n                    link: link,\n                    path: getLinkPath(link),\n                    width: Math.max(1, link.width - linkContract * 2),\n                    color: link.color,\n                    opacity: getOpacity(link),\n                    contract: linkContract,\n                    showTooltip: showTooltip,\n                    hideTooltip: hideTooltip,\n                    setCurrent: setCurrentLink,\n                    onClick: onClick,\n                    tooltip: tooltip,\n                    theme: theme,\n                    tooltipFormat: tooltipFormat\n                });\n            })\n        );\n    }\n\n    var springConfig = {\n        stiffness: motionStiffness,\n        damping: motionDamping\n    };\n\n    return _react2.default.createElement(\n        'g',\n        null,\n        links.map(function (link) {\n            return _react2.default.createElement(\n                _SmartMotion2.default,\n                {\n                    key: link.source.id + '.' + link.target.id,\n                    style: function style(spring) {\n                        return {\n                            path: spring(getLinkPath(link), springConfig),\n                            width: spring(Math.max(1, link.width - linkContract * 2), springConfig),\n                            color: spring(link.color, springConfig),\n                            opacity: spring(getOpacity(link), springConfig),\n                            contract: spring(linkContract, springConfig)\n                        };\n                    }\n                },\n                function (style) {\n                    return _react2.default.createElement(_SankeyLinksItem2.default, _extends({\n                        link: link\n                    }, style, {\n                        showTooltip: showTooltip,\n                        hideTooltip: hideTooltip,\n                        setCurrent: setCurrentLink,\n                        onClick: onClick,\n                        tooltip: tooltip,\n                        theme: theme,\n                        tooltipFormat: tooltipFormat\n                    }));\n                }\n            );\n        })\n    );\n};\n\nSankeyLinks.propTypes = _extends({\n    links: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        source: _propTypes2.default.shape({\n            id: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n            label: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]).isRequired\n        }).isRequired,\n        target: _propTypes2.default.shape({\n            id: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n            label: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]).isRequired\n        }).isRequired,\n        width: _propTypes2.default.number.isRequired,\n        color: _propTypes2.default.string.isRequired\n    })).isRequired,\n\n    // links\n    linkOpacity: _propTypes2.default.number.isRequired,\n    linkHoverOpacity: _propTypes2.default.number.isRequired,\n    linkHoverOthersOpacity: _propTypes2.default.number.isRequired,\n    linkContract: _propTypes2.default.number.isRequired,\n\n    theme: _propTypes2.default.object.isRequired,\n    tooltip: _propTypes2.default.func\n\n}, _props.motionPropTypes, {\n\n    // interactivity\n    showTooltip: _propTypes2.default.func.isRequired,\n    hideTooltip: _propTypes2.default.func.isRequired,\n    setCurrentLink: _propTypes2.default.func.isRequired,\n    currentLink: _propTypes2.default.object,\n    isCurrentLink: _propTypes2.default.func.isRequired,\n    onClick: _propTypes2.default.func.isRequired\n});\n\nexports.default = (0, _pure2.default)(SankeyLinks);"},"hash":"7cb2da10c0a4e1f06e4e98f0631a2eac"}