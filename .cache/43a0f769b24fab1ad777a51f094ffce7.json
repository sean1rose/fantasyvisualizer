{"dependencies":[{"name":"react","loc":{"line":15,"column":21}},{"name":"prop-types","loc":{"line":19,"column":25}},{"name":"react-motion","loc":{"line":23,"column":27}},{"name":"../../../props","loc":{"line":25,"column":21}},{"name":"../../../lib/propertiesConverters","loc":{"line":27,"column":36}},{"name":"../../dots/DotsItem","loc":{"line":29,"column":24}}],"generated":{"js":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * This file is part of the nivo project.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * Copyright 2016-present, RaphaÃ«l Benitte.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * For the full copyright and license information, please view the LICENSE\n                                                                                                                                                                                                                                                                   * file that was distributed with this source code.\n                                                                                                                                                                                                                                                                   */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require('react-motion');\n\nvar _props = require('../../../props');\n\nvar _propertiesConverters = require('../../../lib/propertiesConverters');\n\nvar _DotsItem = require('../../dots/DotsItem');\n\nvar _DotsItem2 = _interopRequireDefault(_DotsItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LineDots = function LineDots(_ref) {\n    var lines = _ref.lines,\n        symbol = _ref.symbol,\n        size = _ref.size,\n        color = _ref.color,\n        borderWidth = _ref.borderWidth,\n        borderColor = _ref.borderColor,\n        enableLabel = _ref.enableLabel,\n        label = _ref.label,\n        labelFormat = _ref.labelFormat,\n        labelYOffset = _ref.labelYOffset,\n        theme = _ref.theme,\n        animate = _ref.animate,\n        motionStiffness = _ref.motionStiffness,\n        motionDamping = _ref.motionDamping;\n\n    var getLabel = (0, _propertiesConverters.getLabelGenerator)(label, labelFormat);\n\n    var points = lines.reduce(function (acc, line) {\n        var id = line.id,\n            points = line.points;\n\n\n        return [].concat(acc, points.filter(function (point) {\n            return point.value !== null;\n        }).map(function (point) {\n            var pointData = {\n                serie: { id: id },\n                x: point.key,\n                y: point.value\n            };\n\n            return {\n                key: id + '.' + point.x,\n                x: point.x,\n                y: point.y,\n                fill: color(line),\n                stroke: borderColor(line),\n                label: enableLabel ? getLabel(pointData) : null\n            };\n        }));\n    }, []);\n\n    if (animate !== true) {\n        return _react2.default.createElement(\n            'g',\n            null,\n            points.map(function (point) {\n                return _react2.default.createElement(_DotsItem2.default, {\n                    key: point.key,\n                    x: point.x,\n                    y: point.y,\n                    symbol: symbol,\n                    size: size,\n                    color: point.fill,\n                    borderWidth: borderWidth,\n                    borderColor: point.stroke,\n                    label: point.label,\n                    labelYOffset: labelYOffset,\n                    theme: theme\n                });\n            })\n        );\n    }\n    var springConfig = {\n        motionDamping: motionDamping,\n        motionStiffness: motionStiffness\n    };\n\n    return _react2.default.createElement(\n        _reactMotion.TransitionMotion,\n        {\n            styles: points.map(function (point) {\n                return {\n                    key: point.key,\n                    data: point,\n                    style: {\n                        x: (0, _reactMotion.spring)(point.x, springConfig),\n                        y: (0, _reactMotion.spring)(point.y, springConfig),\n                        size: (0, _reactMotion.spring)(size, springConfig)\n                    }\n                };\n            })\n        },\n        function (interpolatedStyles) {\n            return _react2.default.createElement(\n                'g',\n                null,\n                interpolatedStyles.map(function (_ref2) {\n                    var key = _ref2.key,\n                        style = _ref2.style,\n                        point = _ref2.data;\n                    return _react2.default.createElement(_DotsItem2.default, _extends({\n                        key: key\n                    }, style, {\n                        symbol: symbol,\n                        color: point.fill,\n                        borderWidth: borderWidth,\n                        borderColor: point.stroke,\n                        label: point.label,\n                        labelYOffset: labelYOffset,\n                        theme: theme\n                    }));\n                })\n            );\n        }\n    );\n};\n\nLineDots.propTypes = _extends({\n    lines: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        id: _propTypes2.default.string.isRequired\n    })),\n\n    symbol: _propTypes2.default.func,\n    size: _propTypes2.default.number.isRequired,\n    color: _propTypes2.default.func.isRequired,\n    borderWidth: _propTypes2.default.number.isRequired,\n    borderColor: _propTypes2.default.func.isRequired,\n\n    // labels\n    enableLabel: _propTypes2.default.bool.isRequired,\n    label: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]).isRequired,\n    labelFormat: _propTypes2.default.string,\n    labelYOffset: _propTypes2.default.number,\n\n    // theming\n    theme: _propTypes2.default.shape({\n        dots: _propTypes2.default.shape({\n            textColor: _propTypes2.default.string.isRequired,\n            fontSize: _propTypes2.default.string.isRequired\n        }).isRequired\n    }).isRequired\n\n}, _props.motionPropTypes);\n\nLineDots.defaultProps = {\n    // labels\n    enableLabel: false,\n    label: 'y'\n};\n\nexports.default = LineDots;"},"hash":"24ce3f3f347589c7737d0778dcd4ffa9"}